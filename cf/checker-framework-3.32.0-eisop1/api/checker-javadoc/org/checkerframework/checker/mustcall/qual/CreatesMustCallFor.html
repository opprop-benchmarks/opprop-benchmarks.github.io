<!DOCTYPE HTML>
<html lang="en">
<head><link rel="icon" href="../../../../../favicon-checkerframework.png" type="image/png"/>
<!-- Generated by javadoc (17) -->
<title>CreatesMustCallFor (checker-framework 3.32.0-eisop1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.checkerframework.checker.mustcall.qual, annotation type: CreatesMustCallFor">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a>&nbsp;|&nbsp;</li>
<li>Required</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.checkerframework.checker.mustcall.qual</a></div>
<h1 title="Annotation Interface CreatesMustCallFor" class="title">Annotation Interface CreatesMustCallFor</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>)
<a href="../../../framework/qual/InheritedAnnotation.html" title="annotation interface in org.checkerframework.framework.qual">@InheritedAnnotation</a>
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Repeatable.html" title="class or interface in java.lang.annotation" class="external-link">@Repeatable</a>(<a href="CreatesMustCallFor.List.html" title="annotation interface in org.checkerframework.checker.mustcall.qual">List.class</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">CreatesMustCallFor</span></div>
<div class="block">Indicates that the method resets the expression's must-call type to its declared type. This
 effectively undoes flow-sensitive type refinement. The expression is the <code>value</code>
 argument/element. More precisely, a call to a method annotated by this annotation changes the
 expression's must-call type to the least upper bound of its current must-call type and its
 declared must-call type.

 <p>When calling a method annotated as <code>@CreatesMustCallFor("</code><em>expression</em><code>")</code>,
 the <code>expression</code>'s static type in the Called Methods type system must be <code>@</code><a href="../../calledmethods/qual/CalledMethods.html" title="annotation interface in org.checkerframework.checker.calledmethods.qual"><code>CalledMethods</code></a><code>({})</code>. That is, <code>expression</code>'s CalledMethods type must be empty.

 <p><code>@CreatesMustCallFor("obj")</code> must be written on any method that assigns a non-final,
 owning field of <code>obj</code> whose declared type has a must-call obligation.

 <p>Because this annotation can only add obligations, it can be written safely on any method, even
 one that does not actually create a new obligation. Writing this annotation on a method that does
 not actually create any new obligations may lead to false alarms (warnings at correct code), but
 never to missed alarms (lack of warnings at incorrect code).

 <p>As an example, consider the following code, which uses a <code>@CreatesMustCallFor</code>
 annotation to indicate that the <code>reset()</code> method re-assigns the <code>socket</code> field:

 <pre>
 &#64;MustCall("stop")
 class SocketContainer {
     // Note that @MustCall("close") is the default type for java.net.Socket, but it
     // is included on the next line for illustrative purposes. This example would function
     // identically if that qualifier were omitted.
     private @Owning @MustCall("close") Socket socket = ...;

     &#64;EnsuresCalledMethods(value="this.socket", methods="close")
     public void stop() throws IOException {
       socket.close();
     }

    &#64;CreatesMustCallFor("this")
    public void reset() {
      if (socket.isClosed()) {
        socket = new Socket(...);
      }
    }
 }
 </pre>

 A client of <code>SocketContainer</code> is permitted to call <code>reset()</code> arbitrarily many times.
 Each time it does so, a new <code>Socket</code> might be created. A <code>SocketContainer</code>'s
 must-call obligation of "stop" is fulfilled only if <code>stop()</code> is called after the last call
 to <code>reset()</code>. The <code>@CreatesMustCallFor</code> annotation on <code>reset()</code>'s declaration
 enforces this requirement: at any call to <code>reset()</code>, all called-methods information about
 the receiver is removed from the store of the Must Call Checker and the store of the Called
 Methods Checker, so the client has to "start over" as if a fresh <code>SocketContainer</code> object
 had been created.

 <p>When the <code>-AnoCreatesMustCallFor</code> command-line argument is passed to the checker, this
 annotation is ignored and all fields are treated as non-owning.</div>
<dl class="notes"><DT><B>See the Checker Framework Manual:</B><DD><A HREF="https://checkerframework.org/manual/#resource-leak-checker">Resource Leak Checker</A><BR></dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static @interface&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="CreatesMustCallFor.List.html" class="type-name-link" title="annotation interface in org.checkerframework.checker.mustcall.qual">CreatesMustCallFor.List</a></code></div>
<div class="col-last even-row-color">
<div class="block">A wrapper annotation that makes the <a href="CreatesMustCallFor.html" title="annotation interface in org.checkerframework.checker.mustcall.qual"><code>CreatesMustCallFor</code></a> annotation repeatable.</div>
</div>
</div>
</section>
</li>
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#value()" class="member-name-link">value</a></code></div>
<div class="col-last even-row-color">
<div class="block">Returns the expression whose must-call type is reset after a call to a method with this
 annotation.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="value()">
<h3>value</h3>
<div class="member-signature"><span class="annotations"><a href="../../../framework/qual/JavaExpression.html" title="annotation interface in org.checkerframework.framework.qual">@JavaExpression</a>
</span><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">value</span></div>
<div class="block">Returns the expression whose must-call type is reset after a call to a method with this
 annotation. The expression must be visible in the scope immediately before each call site, so
 it can only refer to fields, the method's parameters (which should be referenced via the "#X"
 syntax, where "#1" is the first argument, #2 is the second, etc.), or <code>"this"</code>. The
 default is <code>"this"</code>. At call-sites, the viewpoint-adapted referent of expression must
 be owning (an owning field, a local variable tracked in a resource alias set, etc.) or a
 <code>reset.not.owning</code> error is issued.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the expression to which must-call obligations are added when the annotated method is
     invoked</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>"this"</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
