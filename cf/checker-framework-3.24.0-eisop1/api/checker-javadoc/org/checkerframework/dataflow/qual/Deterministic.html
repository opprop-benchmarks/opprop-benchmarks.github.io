<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head><link rel="icon" href="../../../../favicon-checkerframework.png" type="image/png"/>
<!-- Generated by javadoc -->
<title>Deterministic (checker-framework 3.24.0-eisop1 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Deterministic (checker-framework 3.24.0-eisop1 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/checkerframework/dataflow/qual/Pure.html" title="annotation in org.checkerframework.dataflow.qual"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/checkerframework/dataflow/qual/Deterministic.html" target="_top">Frames</a></li>
<li><a href="Deterministic.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.checkerframework.dataflow.qual</div>
<h2 title="Annotation Type Deterministic" class="title">Annotation Type Deterministic</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Documented.html?is-external=true" title="class or interface in java.lang.annotation">@Documented</a>
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation">RUNTIME</a>)
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>={<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#METHOD" title="class or interface in java.lang.annotation">METHOD</a>,<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/ElementType.html?is-external=true#CONSTRUCTOR" title="class or interface in java.lang.annotation">CONSTRUCTOR</a>})
public @interface <span class="memberNameLabel">Deterministic</span></pre>
<div class="block">A method is called <em>deterministic</em> if it returns the same value (according to <code>==</code>)
 every time it is called with the same parameters and in the same environment. The parameters
 include the receiver, and the environment includes all of the Java heap (that is, all fields of
 all objects and all static variables).

 <p>Determinism refers to the return value during a non-exceptional execution. If a method throws
 an exception, the Throwable does not have to be exactly the same object on each invocation (and
 generally should not be, to capture the correct stack trace).

 <p>This annotation is important to pluggable type-checking because, after a call to a
 <code>@Deterministic</code> method, flow-sensitive type refinement can assume that anything learned
 about the first invocation is true about subsequent invocations (so long as no
 non-<code>@</code><a href="../../../../org/checkerframework/dataflow/qual/SideEffectFree.html" title="annotation in org.checkerframework.dataflow.qual"><code>SideEffectFree</code></a> method call intervenes). For example, the following code
 never suffers a null pointer exception, so the Nullness Checker need not issue a warning:

 <pre><code>
 if (x.myDeterministicMethod() != null) {
   x.myDeterministicMethod().hashCode();
 }
 </code></pre>

 <p>Note that <code>@Deterministic</code> guarantees that the result is identical according to <code>==</code>, <b>not</b> just equal according to <code>equals()</code>. This means that writing
 <code>@Deterministic</code> on a method that returns a reference (including a String) is often
 erroneous unless the returned value is cached or interned.

 <p>Also see <a href="../../../../org/checkerframework/dataflow/qual/Pure.html" title="annotation in org.checkerframework.dataflow.qual"><code>Pure</code></a>, which means both deterministic and <a href="../../../../org/checkerframework/dataflow/qual/SideEffectFree.html" title="annotation in org.checkerframework.dataflow.qual"><code>SideEffectFree</code></a>.

 <p><b>Analysis:</b> The Checker Framework performs a conservative analysis to verify a
 <code>@Deterministic</code> annotation. The Checker Framework issues a warning if the method uses any
 of the following Java constructs:

 <ol>
   <li>Assignment to any expression, except for local variables and method parameters.<br>
       (Note that storing into an array element, such a <code>a[i] = x</code>, is not an assignment to
       a variable and is therefore forbidden.)
   <li>A method invocation of a method that is not <a href="../../../../org/checkerframework/dataflow/qual/Deterministic.html" title="annotation in org.checkerframework.dataflow.qual"><code>Deterministic</code></a>.
   <li>Construction of a new object.
   <li>Catching any exceptions. This restriction prevents a method from obtaining a reference to a
       newly-created exception object and using these objects (or some property thereof) to change
       the method's return value. For instance, the following method must be forbidden.
       <!-- "<code>" instead of "<code>...</code>" because of at-sign at beginning of line -->
       <pre><code>@Deterministic
 int f() {
   try {
     int b = 0;
     int a = 1/b;
   } catch (Throwable t) {
     return t.hashCode();
   }
   return 0;
 }
 </code></pre>
 </ol>

 When a constructor is annotated as <code>Deterministic</code> (or <code>@Pure</code>), that means that all
 the fields are deterministic (the same values, if the arguments are the same). The constructed
 object itself is different. That is, a constructor <em>invocation</em> is never deterministic
 since it returns a different new object each time.

 <p>Note that the rules for checking currently imply that every <code>Deterministic</code> method is
 also <a href="../../../../org/checkerframework/dataflow/qual/SideEffectFree.html" title="annotation in org.checkerframework.dataflow.qual"><code>SideEffectFree</code></a>. This might change in the future; in general, a deterministic method
 does not need to be side-effect-free.

 <p>These rules are conservative: any code that passes the checks is deterministic, but the
 Checker Framework may issue false positive warnings, for code that uses one of the forbidden
 constructs but is deterministic nonetheless.

 <p>In fact, the rules are so conservative that checking is currently disabled by default, but can
 be enabled via the <code>-AcheckPurityAnnotations</code> command-line option.

 <p>This annotation is inherited by subtypes, just as if it were meta-annotated with
 <code>@InheritedAnnotation</code>.</div>
<dl><DT><B>See the Checker Framework Manual:</B><DD><A HREF="https://checkerframework.org/manual/#type-refinement-purity">Side effects, determinism, purity, and
     flow-sensitive analysis</A><BR></dl>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/checkerframework/dataflow/qual/Pure.html" title="annotation in org.checkerframework.dataflow.qual"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/checkerframework/dataflow/qual/Deterministic.html" target="_top">Frames</a></li>
<li><a href="Deterministic.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
